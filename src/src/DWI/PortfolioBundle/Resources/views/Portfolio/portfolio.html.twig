{% set portfolio = model.portfolio %}
{% set tags = model.tags %}

{% extends '::base.html.twig' %}

{% block title %}Portfolio{% endblock %}

{% block body %}
    <div class="canvas">
        <div class="jumbotron">
            Portfolio<br />
            {% if model.tag is defined %}
                <small>My galleries tagged with '{{ model.tag.name }}'</small>
            {% else %}
                <small>Take a look at some of my recent work below</small>
            {% endif %}

            {% include 'DWIPortfolioBundle:Portfolio/partials:portfolio-tags.html.twig' with {
                'tag': (model.tag is defined) ? model.tag : false,
                'tags': model.tags
            } %}
        </div>
    </div>

    {% include 'DWIPortfolioBundle:Portfolio/Admin/partials:portfolio-controls.html.twig' with {
        'model': model.controls
    } %}

    <div class="canvas gray-lighter">
        <div class="thumbs">
            {% if portfolio.galleries is defined %}
                {% for gallery in portfolio.galleries %}
                    <div class="thumb {{ not gallery.isActive ? 'inactive' }}" title="{{ gallery.title }}">
                        <div class="thumb-overlay">
                            <a class="cover" href="{{ url('dwi_portfolio_gallery', {'id': gallery.id}) }}"></a>
                        </div>

                        {% if gallery.coverImagePath %}
                            <img src="{{ asset(gallery.coverImagePath)|imagine_filter('gallery_thumb') }}" alt="" />
                        {% else %}
                            <img src="http://placehold.it/300x300" alt="" />
                        {% endif %}
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
{% endblock %}
